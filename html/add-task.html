<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Add Task</title>
    <link rel="icon" href="../assets/img/join-logo.svg" type="image/gif" sizes="16x16" />
    <link rel="stylesheet" href="../styles/font.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../styles/colors.css">
    <link rel="stylesheet" href="../styles/add-task.css">
</head>

<body onload="addClassSelectedMenuButton('add-task-menu-button', 'loggedIn')">
    <div id="overlay-task-added" class="d-none">
        <div id="task-added">
            <span>Task added to board</span>
            <img class="menu-button-icon" src="../assets/icons/board.svg" alt="icon-board">
        </div>
    </div>
    <section id="main" onclick="closeDropdown(), changeInputButton(false), stopPropagation(event)">

        <header>
            <nav>
                <img class="mobile-logo" src="../assets/img/join-logo.png" alt="">
                <span class="text-nav">Kanban Project Management Tool</span>
                <div class="button-box">
                    <a href="help.html" class="help-button">
                        <img class="help-img" src="../assets/img/Property 1=Default.png">
                    </a>
                    <button onclick="accountClickMenu()" id="smallInitials" class="small-menu-button"></button>
                </div>
            </nav>
        </header>
        <div id="subMenuOverlayContent" class="overlay" onclick="accountClickMenu()">
            <div class="account-submenu-container">
                <ul>
                    <li class="mobile-help"><a href="help.html">Help</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="legal-notice.html">Legal Notice</a></li>
                    <li><a href="../index.html">Log out</a></li>
                </ul>
            </div>
        </div>

        <div id="container-form">
            <div id="form-top">
                <h1>Add Task</h1>
            </div>
            <form id="form-add-task">
                <div id="form-left">
                    <div class="container-input-label">
                        <label for="title" class="label-add-task flex">
                            Title
                            <span class="asterisk">&#42;</span>
                            <p id="max-char-title" class="required-max-chars d-none">Reached maximum amount of 50 chars!
                            </p>
                        </label>
                        <input id="title" class="input" type="text" name="title" placeholder="Enter a title"
                            maxlength="50" size="10" onkeyup="checkInputLength('title')">
                        <p id="required-title" class="required hidden">This field is required</p>
                    </div>
                    <div id="container-description" class="container-input-label">
                        <label for="description" class="label-add-task">
                            Description
                        </label>
                        <textarea id="description" class="input" name="description"
                            placeholder="Enter a Description"></textarea>
                    </div>
                    <div class="container-input-label">
                        <label for="due-date" class="label-add-task flex" id="label-due-date">
                            Due date
                            <span class="asterisk" id="asterisk-due-date">&#42;</span>
                            <p id="invalid-date" class="required hidden">Invalid date format (dd/mm/jjjj)!</p>
                        </label>
                        <div id="container-input-due-date">
                            <input id="due-date" class="input" type="text" name="due-date" placeholder="dd/mm/yyyy"
                                size="10" required maxlength="10">
                            <input id="date-picker" type="date" onchange="putDateToInput()">
                        </div>
                        <p id="required-due-date" class="required hidden">This field is required</p>
                    </div>
                </div>
                <hr id="separator">
                <div id="form-right">
                    <div id="container-prioritys" class="container-input-label">
                        <span class="label-add-task">Priority</span>
                        <div id="buttons-prio">
                            <button id="urgent" class="button-prio button-prio-hover" type="button"
                                onclick="selectPrioButton('urgent')">
                                Urgent
                                <img id="svg-urgent" src="../assets/icons/urgent.svg" alt="icon-urgent">
                            </button>
                            <button id="medium" class="button-prio medium white" type="button"
                                onclick="selectPrioButton('medium')">
                                Medium
                                <img id="svg-medium" src="../assets/icons/medium.svg" alt="icon-medium"
                                    class="filter-white">
                            </button>
                            <button id="low" class="button-prio button-prio-hover" type="button"
                                onclick="selectPrioButton('low')">
                                Low
                                <img id="svg-low" src="../assets/icons/low.svg" alt="icon-low">
                            </button>
                        </div>
                    </div>
                    <div class="container-input-label custom-select">
                        <label for="assigned-to" class="label-add-task">
                            Assigned to
                        </label>
                        <div id="container-input-assigned">
                            <input id="assigned-to" type="text" name="assigned-to"
                                placeholder="Select contacts to assign" size="10"
                                onclick="toggleAssignOptions(), stopPropagation(event)" onkeyup="filterContacts()">
                            <button class="button-dropdown" type="button"
                                onclick="toggleAssignOptions(), toggleInputFocus(), stopPropagation(event)">
                                <img id="arrow-dropdown-assigned" src="../assets/icons/arrow_drop_down.svg"
                                    alt="icon-arrow-down">
                            </button>
                        </div>
                        <div id="container-dropdown">
                            <div id="dropdown-assign" class="container-custom-select-options d-none"
                                onmousedown="preventDefault(event)"></div>
                        </div>
                        <div id="container-assigned-contacts"></div>
                    </div>
                    <div class="container-input-label">
                        <label for="category" class="label-add-task flex">
                            Category
                            <span class="asterisk">&#42;</span>
                        </label>
                        <div id="container-input-category">
                            <input readonly id="category" type="text" name="category" placeholder="Select task category"
                                size="10" onclick="toggleCategoryOptions(), stopPropagation(event)">
                            <button class="button-dropdown" type="button">
                                <img id="arrow-dropdown-category" src="../assets/icons/arrow_drop_down.svg"
                                    alt="icon-arrow-down" onclick="toggleCategoryOptions(), stopPropagation(event)">
                            </button>
                        </div>
                        <div class="container-arrow-dropdown" onclick="toggleCategoryOptions(), stopPropagation(event)">
                        </div>
                        <div id="dropdown-category" class="container-custom-select-options-noscroll d-none">
                            <div id="technical-task" class="container-custom-select-option"
                                onclick="displayCategory('Technical Task'), stopPropagation(event)">
                                <div class="container-bg">
                                    <div>
                                        <span class="category">Technical Task</span>
                                    </div>
                                </div>
                            </div>
                            <div id="user-story" class="container-custom-select-option"
                                onclick="displayCategory('User Story'), stopPropagation(event)">
                                <div class="container-bg">
                                    <div>
                                        <span class="category">User Story</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p id="required-category" class="required hidden">This field is required</p>
                    </div>
                    <div class="container-input-label">
                        <label id="label-subtasks" for="subtasks" class="label-add-task" placeholder="Add new subtask">
                            Subtasks
                            <p id="invalid-subtask" class="required d-none">Enter at least one character to save
                                subtask!</p>
                            <p id="max-char-subtasks" class="required-max-chars d-none">Reached maximum amount of 50
                                chars!</p>
                        </label>
                        <div id="container-input-subtask" onclick="changeInputButton(true), stopPropagation(event)">
                            <input id="subtasks" class="input" type="text" name="subtasks" placeholder="Add new subtask"
                                maxlength="50" size="10" onkeyup="checkInputLength('subtasks')"
                                onkeydown="isEnterKey(event)">
                            <button id="button-add" class="button-add" type="button">
                                <img src="../assets/icons/add.svg" alt="icon-arrow-down">
                            </button>
                            <div id="container-buttons" class="container-button-confirm d-none">
                                <button type="button" class="button-add button-accept-reject"
                                    onclick="processSubtask(false)">
                                    <img src="../assets/icons/close.svg" alt="icon-reject">
                                </button>
                                <hr>
                                <button type="button" class="button-add button-accept-reject"
                                    onclick="processSubtask(true)">
                                    <img src="../assets/icons/check_blue.svg" alt="icon-accept">
                                </button>
                            </div>
                        </div>
                        <div id="container-subtasks"></div>
                    </div>
                    <p id="required-mobile"><span class="asterisk">&#42;</span>This field is required</p>
                </div>
            </form>
            <div id="footer-add-task">
                <p class="flex"><span class="asterisk">&#42;</span>This field is required</p>
                <div id="clear-create-buttons">
                    <button id="button-clear" onclick="clearInputs()">Clear
                        <img src="../assets/icons/cancel.svg" alt="icon-cancel">
                    </button>
                    <button id="button-create" onclick="createTask()">Create task
                        <img src="../assets/icons/check.svg" alt="icon-check">
                    </button>
                </div>
            </div>
        </div>

        <div class="menu-box">
            <img class="menu-logo" src="../assets/img/join-logo-weiß.png" alt="">
            <div class="menu-button-box">
                <a href="summary.html" class="menu-button" id="summary-menu-button">
                    <svg viewBox="0 0 30 31" class="menu-button-icon">
                        <path
                            d="M25.23 3.47H4.77C3.4 3.47 2.5 4.37 2.5 5.47v21c0 1.1.9 2 2 2h20.46c1.1 0 2-.9 2-2v-21c0-1.1-.9-2-2-2ZM17.27 26.26H4.77V17.17h12.5v9.09Zm0-11.36H4.77V5.81h12.5v9.09Zm7.96 11.36h-5.68V5.81h5.68v20.45Z" />
                    </svg>
                    Summary
                </a>
                <a href="add-task.html" class="menu-button" id="add-task-menu-button">
                    <svg viewBox="0 0 30 31" class="menu-button-icon">
                        <path
                            d="M4.63 28.17c-.67 0-1.24-.24-1.72-.72s-.72-1.1-.72-1.72V8.66c0-.67.24-1.24.72-1.72s1.1-.72 1.72-.72h10.88l-2.44 2.44H4.63v17.07h17.07v-8.48l2.44-2.44v10.91c0 .67-.24 1.24-.72 1.72s-1.1.72-1.72.72H4.63ZM18.25 6.92l1.74 1.71-8.05 8.05v1.74h1.71l8.08-8.08 1.74 1.71-8.08 8.08c-.22.22-.48.4-.77.53-.3.13-.61.2-.93.2h-2.96c-.34 0-.63-.12-.86-.34s-.34-.52-.34-.86v-2.96c0-.33.06-.64.18-.93.12-.29.29-.55.52-.78l8.08-8.08ZM23.47 12.04l-5.22-5.12 3.05-3.05c.49-.49 1.07-.73 1.73-.73s1.24.24 1.72.73l1.71 1.74c.48.47.72 1.06.72 1.72s-.24 1.24-.72 1.72l-3.99 3.99Z" />
                    </svg>
                    Add Task
                </a>
                <a href="board.html" class="menu-button" id="board-menu-button">
                    <svg viewBox="0 0 30 31" class="menu-button-icon">
                        <path
                            d="M22.96 5.74v20.45c0 .6-.24 1.18-.66 1.61s-1.01.67-1.61.67h-4.55c-.6 0-1.18-.24-1.61-.66s-.67-1.01-.67-1.61V5.74c0-.6.24-1.18.66-1.61s1.01-.67 1.61-.67h4.55c.6 0 1.18.24 1.61.66s.67 1.01.67 1.61Zm-6.82 0v20.45h4.55V5.74h-4.55ZM16.14 5.74v20.45c0 .6-.24 1.18-.66 1.61s-1.01.67-1.61.67h-4.55c-.6 0-1.18-.24-1.61-.66s-.67-1.01-.67-1.61V5.74c0-.6.24-1.18.66-1.61s1.01-.67 1.61-.67h4.55c.6 0 1.18.24 1.61.66s.67 1.01.67 1.61Zm-6.82 0v20.45h4.55V5.74h-4.55ZM9.32 5.74v20.45c0 .6-.24 1.18-.66 1.61s-1.01.67-1.61.67H2.5c-.6 0-1.18-.24-1.61-.66S.23 26.8.23 26.19V5.74c0-.6.24-1.18.66-1.61s1.01-.67 1.61-.67h4.55c.6 0 1.18.24 1.61.66s.67 1.01.67 1.61ZM2.5 26.19h4.55V5.74H2.5v20.45Z" />
                        <path
                            d="M29.78 5.74v20.45c0 .6-.24 1.18-.66 1.61s-1.01.67-1.61.67h-4.55c-.6 0-1.18-.24-1.61-.66s-.67-1.01-.67-1.61V5.74c0-.6.24-1.18.66-1.61s1.01-.67 1.61-.67h4.55c.6 0 1.18.24 1.61.66s.67 1.01.67 1.61Zm-6.82 0v20.45h4.55V5.74h-4.55Z" />
                    </svg>
                    Board
                </a>
                <a href="contacts.html" class="menu-button" id="contacts-menu-button">
                    <svg viewBox="0 0 30 31" class="menu-button-icon">
                        <path
                            d="M15 23.47c-1.17 0-2.28.18-3.34.55-1.06.36-2.03.91-2.88 1.65v.31h12.5v-.31c-.85-.74-1.82-1.29-2.88-1.65-1.06-.37-2.17-.55-3.34-.55ZM6.25 24.53c1.13-1.1 2.44-1.97 3.92-2.61 1.49-.63 3.1-.95 4.83-.95s3.35.32 4.83.95c1.48.64 2.79 1.51 3.92 2.61V8.47H6.25v16.06ZM15 18.47c-1.21 0-2.24-.43-3.09-1.28-.85-.85-1.28-1.89-1.28-3.09s.43-2.24 1.28-3.09c.85-.85 1.88-1.28 3.09-1.28s2.24.43 3.1 1.28c.85.85 1.28 1.89 1.28 3.09s-.43 2.24-1.28 3.09c-.86.85-1.89 1.28-3.1 1.28Zm0-2.5c.52 0 .97-.18 1.33-.58.37-.37.55-.82.55-1.32s-.18-.97-.55-1.33c-.36-.37-.81-.55-1.33-.55s-.97.18-1.33.55c-.37.36-.55.81-.55 1.33s.18.95.55 1.32c.36.4.81.58 1.33.58ZM6.25 28.47c-.69 0-1.28-.24-1.76-.71s-.74-1.07-.74-1.79V8.47c0-.69.25-1.28.74-1.76s1.07-.74 1.76-.74h1.25V3.47h2.5v2.5h10v-2.5h2.5v2.5h1.25c.69 0 1.28.25 1.76.74s.74 1.07.74 1.76v17.5c0 .72-.25 1.31-.74 1.79s-1.07.71-1.76.71H6.25Z" />
                    </svg>
                    Contacts
                </a>
            </div>
            <div class="menu-button-bottom-box">
                <a href="privacy-policy.html" class="menu-button-bottom" id="privacy-policy-menu-button">Privacy
                    Policy</a>
                <a href="legal-notice.html" class="menu-button-bottom" id="legal-notice-menu-button">Legal
                    Notice</a>
            </div>
        </div>
    </section>
    <div class="overlay-landscape-spinner">
        <span class="loader"><span class="loader2"></span></span>
    </div>
    <script src="../scripts/add-task.js"></script>
    <script src="../scripts/custom-dropdown.js"></script>
    <script src="../scripts/subtask.js"></script>
    <script src="../templates/add-task-template.js"></script>
    <script src="../script.js"></script>
</body>

</html>